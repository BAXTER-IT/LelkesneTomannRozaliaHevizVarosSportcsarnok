<h2>Create New Order</h2>
<form (submit)="submitOrder()">
  <div>
    <label for="tradingPair">Trading Pair:</label>
    <input type="text" id="tradingPair" name="tradingPair" [(ngModel)]="orderRequest.tradingPair" required>
    <!-- Later, this could be a dropdown of available pairs -->
  </div>
  <div>
    <label for="orderType">Type:</label>
    <select id="orderType" name="orderType" [(ngModel)]="orderRequest.type">
      <option value="BUY">BUY</option>
      <option value="SELL">SELL</option>
    </select>
  </div>
  <div class="order-type-selector">
    <label>Order Type:</label>
    <div class="radio-button-group">
      <input type="radio" id="orderTypeMarket" name="orderTypeSelected" value="market" 
             [checked]="orderTypeSelected() === 'market'" 
             (change)="orderTypeSelected.set('market')">
      <label for="orderTypeMarket" class="radio-button">Market</label>

      <input type="radio" id="orderTypeLimit" name="orderTypeSelected" value="limit"
             [checked]="orderTypeSelected() === 'limit'"
             (change)="orderTypeSelected.set('limit')">
      <label for="orderTypeLimit" class="radio-button">Limit</label>
    </div>
  </div>
  <div>
    <label for="price">Price:</label>
    <input type="number" id="price" name="price" [(ngModel)]="orderRequest.price" 
           required step="any"
           [disabled]="orderTypeSelected() === 'market'"
           [readonly]="orderTypeSelected() === 'market'">
  </div>
  <div>
    <label for="quantity">Quantity:</label>
    <input type="number" id="quantity" name="quantity" [(ngModel)]="orderRequest.quantity" required step="any">
  </div>
  <button type="submit" [disabled]="isLoading()">
    {{ isLoading() ? 'Submitting...' : 'Submit Order' }}
  </button>
  @if (errorMessage()) {
    <p class="error">{{ errorMessage() }}</p>
  }
  @if (successMessage()) {
    <p class="success">{{ successMessage() }}</p>
  }
</form>
